## –û—Ç —Å—Ç–∏–º—É–ª–∞ –∫ —Å–º—ã—Å–ª—É: —à–∞–≥–∏ **B ‚Üí C ‚Üí D ‚Üí E** (–ø—Ä–∏–º–µ—Ä —Ü–∏—Ñ—Ä—ã **1**)

–ù–∏–∂–µ ‚Äî –∫–∞–∫ –æ–¥–∏–Ω –æ–±—Ä–∞–∑ (—Ü–∏—Ñ—Ä–∞ **1**) –ø—Ä–æ—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∫–æ–Ω–≤–µ–π–µ—Ä –∏ —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø–∞–Ω–µ–ª–∏ B‚ÄìE –≤ `visualize_pipeline`.

---

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ)
- **–ö–æ–¥–±—É–∫–∏ (codebooks)** –≤ `PrimaryEncoder`: –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è ¬´–ø—Ä–∏–∑–Ω–∞–∫ ‚Üí –Ω–∞–±–æ—Ä –±–∏—Ç–æ–≤¬ª –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ `0..B-1` (—É –Ω–∞—Å `B=8192`).
- **–†–∞—Å–∫–ª–∞–¥–∫–∞** `Layout2D`: –æ–±—É—á–∞—é—â–∏–µ –∫–æ–¥—ã —Ä–∞–∑–ª–æ–∂–µ–Ω—ã –ø–æ —Ä–µ—à—ë—Ç–∫–µ `H√óW` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 90√ó90).
- **–î–µ—Ç–µ–∫—Ç–æ—Ä—ã** `DetectorSpace`: –∏–∑ ¬´–ø–∏–Ω–≤–∏–ª–æ–≤¬ª –Ω–∞ —Ä–∞—Å–∫–ª–∞–¥–∫–µ —Å–æ–±—Ä–∞–Ω—ã –æ–±–ª–∞—Å—Ç–∏ (–∫—Ä—É–≥–∏/—ç–ª–ª–∏–ø—Å—ã), –∫–∞–∂–¥–æ–π –æ–±–ª–∞—Å—Ç–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω **–æ–¥–∏–Ω –±–∏—Ç** –≤ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ `0..E-1` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `E=256`). –í–∞–∂–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: `percentile=0.88`, `lam_floor=0.06`, `mu=0.20`, `min_activated=35`.

---

## B) –ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–æ–¥ (—à—Ç—Ä–∏—Ö–∫–æ–¥ –∏–∑ `0..8191`)
–§—É–Ω–∫—Ü–∏—è `enc.encode(img)` –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–∞—Ä—Ç–∏–Ω–∫—É **28√ó28** (–≤ [0,1]) –≤ **—Ä–∞–∑—Ä–µ–∂—ë–Ω–Ω—ã–π –Ω–∞–±–æ—Ä –±–∏—Ç–æ–≤** —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–Ω–∞–ª–æ–≤ (–∫–∞–∂–¥—ã–π –∫–∞–Ω–∞–ª –¥–æ–±–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏ –±–∏—Ç—ã –∏–∑ –∫–æ–¥–±—É–∫–∞):

1. **BRIGHT** *(–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 0.0)*  
   –°—Ä–µ–¥–Ω—è—è —è—Ä–∫–æ—Å—Ç—å –∫–∞–¥—Ä–∞ –∫–≤–∞–Ω—Ç—É–µ—Ç—Å—è (–Ω–∞ 8 —É—Ä–æ–≤–Ω–µ–π) ‚Üí –≤–∫–ª—é—á–∞–µ–º 4 –±–∏—Ç–∞ –∏–∑ `bright_codebook`.

2. **COARSE 2√ó2** *(–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1.0)*  
   –î–ª—è –∫–∞–∂–¥–æ–π —á–µ—Ç–≤–µ—Ä—Ç–∏, –µ—Å–ª–∏ —Å—Ä–µ–¥–Ω—è—è —è—Ä–∫–æ—Å—Ç—å > 0.15, –¥–æ–±–∞–≤–ª—è–µ–º –µ—ë –±–∏—Ç—ã (–ø–æ 4).

3. **ORIENT 4√ó4 (Sobel)** *(–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1.5)*  
   –°—á–∏—Ç–∞–µ–º –≥—Ä–∞–¥–∏–µ–Ω—Ç—ã (–≤–µ–ª–∏—á–∏–Ω–∞/—É–≥–æ–ª). –í –∫–∞–∂–¥–æ–º –∏–∑ 16 —Ç–∞–π–ª–æ–≤ –±–µ—Ä—ë–º –¥–æ–º–∏–Ω–∞–Ω—Ç–Ω—ã–π —É–≥–æ–ª (–∏–∑ 8 –±–∏–Ω–æ–≤), –µ—Å–ª–∏ —Å—Ä–µ–¥–Ω—è—è –≤–µ–ª–∏—á–∏–Ω–∞ ‚â• 0.12 ‚Üí –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ 2 –±–∏—Ç–∞.  
   –î–ª—è ¬´1¬ª –¥–æ–º–∏–Ω–∏—Ä—É–µ—Ç **–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–∞—è** –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –≤ —Ç–∞–π–ª–∞—Ö, –ø–µ—Ä–µ—Å–µ—á—ë–Ω–Ω—ã—Ö —à—Ç—Ä–∏—Ö–æ–º.

4. **GRID 4√ó4** *(–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2.0)*  
   –í –∫–∞–∂–¥–æ–º —Ç–∞–π–ª–µ –±–µ—Ä—ë–º —Å—Ä–µ–¥–Ω—é—é —è—Ä–∫–æ—Å—Ç—å, –∫–≤–∞–Ω—Ç—É–µ–º –Ω–∞ 4 —É—Ä–æ–≤–Ω—è –∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ 3 –±–∏—Ç–∞ –¥–ª—è —É—Ä–æ–≤–Ω—è (–∏ —Å–æ—Å–µ–¥–Ω–µ–≥–æ `lvl-1` –¥–ª—è –ª—ë–≥–∫–æ–≥–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è).

5. **–°–≤–µ–¥–µ–Ω–∏–µ (¬´—Ü–≤–µ—Ç–æ–≤–æ–µ¬ª –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ)**  
   –í—Å–µ –ø–∞—Ä—ã *(priority, bit)* —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤—ã–≤–∞—é—Ç—Å—è –ø–æ –ª–∏–º–∏—Ç—É `max_active_bits` (–Ω–∞–ø—Ä–∏–º–µ—Ä, 260).  
   –ù–∞ –ø–∞–Ω–µ–ª–∏ **B** —ç—Ç–æ –∏–∑–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–∞–∫ ¬´—à—Ç—Ä–∏—Ö–∫–æ–¥¬ª –∏–Ω–¥–µ–∫—Å–æ–≤ –∞–∫—Ç–∏–≤–Ω—ã—Ö –±–∏—Ç–æ–≤.

**–ß—Ç–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω–æ –¥–ª—è ¬´1¬ª**: –Ω–∏–∑–∫–∏–π BRIGHT, —Å–ª–∞–±—ã–µ COARSE (–µ—Å–ª–∏ —à—Ç—Ä–∏—Ö —Ç–æ–Ω–∫–∏–π), —Å–∏–ª—å–Ω—ã–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ ORIENT –≤ 2‚Äì5 —Ç–∞–π–ª–∞—Ö, GRID –ø–æ–¥—á—ë—Ä–∫–∏–≤–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏ —à—Ç—Ä–∏—Ö–∞.

---

## C) –ö–∞—Ä—Ç–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –Ω–∞ —Ä–∞—Å–∫–ª–∞–¥–∫–µ (–≥–¥–µ –ø–æ—Ö–æ–∂–∏–µ –æ–±—É—á–∞—é—â–∏–µ)
–§—É–Ω–∫—Ü–∏—è `det._activation_map_adaptive(code)`:

1. –î–ª—è **–∫–∞–∂–¥–æ–π –∑–∞–Ω—è—Ç–æ–π –∫–ª–µ—Ç–∫–∏** `(y,x)` —Ä–∞—Å–∫–ª–∞–¥–∫–∏ –±–µ—Ä—ë–º –∫–æ–¥ –æ–±—É—á–∞—é—â–µ–≥–æ –ø—Ä–∏–º–µ—Ä–∞ –∏ —Å—á–∏—Ç–∞–µ–º —Å—Ö–æ–∂–µ—Å—Ç—å —Å —Ç–µ–∫—É—â–∏–º `code` –ø–æ `cosbin` (|–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ| / ‚àö(—Ä–∞–∑–º–µ—Ä–æ–≤)).
2. –ü–æ–ª—É—á–∞–µ–º –º–∞—Ç—Ä–∏—Ü—É `sims[y,x]` –∏ –ø–æ—Ä–æ–≥:
```
thr = max(lam_floor, quantile(sims, percentile))  # –Ω–∞–ø—Ä. max(0.06, 88-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å)
```
3. –î–µ–ª–∞–µ–º –±—É–ª–µ–≤—É –∫–∞—Ä—Ç—É `act = sims >= thr`. –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ, –¥–æ–±–∏—Ä–∞–µ–º **top-35** –ø–æ `sims`.

–î–ª—è ¬´1¬ª –≤—Å–ø—ã—Ö–∏–≤–∞–µ—Ç –∫–ª–∞—Å—Ç–µ—Ä –≤ –æ–±–ª–∞—Å—Ç–∏, –≥–¥–µ –Ω–∞ —Ä–∞—Å–∫–ª–∞–¥–∫–µ ¬´–∂–∏–≤—É—Ç¬ª –æ–±—É—á–∞—é—â–∏–µ –µ–¥–∏–Ω–∏—Ü—ã. –°–æ—Å–µ–¥–Ω–∏–µ –∫–ª–∞—Å—Å—ã —Å –ø–æ—Ö–æ–∂–∏–º–∏ —à—Ç—Ä–∏—Ö–∞–º–∏ –º–æ–≥—É—Ç –¥–∞–≤–∞—Ç—å —Å–ª–∞–±—ã–µ ¬´–æ—Å—Ç—Ä–æ–≤–∫–∏¬ª.

---

## D) –°—Ä–∞–±–æ—Ç–∞–≤—à–∏–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä—ã (–∫–æ–Ω—Ç—É—Ä—ã –Ω–∞ –∫–∞—Ä—Ç–µ)
–§—É–Ω–∫—Ü–∏—è `det.embed(code)` —Ä–µ—à–∞–µ—Ç, –∫–∞–∫–∏–µ –¥–µ—Ç–µ–∫—Ç–æ—Ä—ã ¬´—Å—Ç—Ä–µ–ª—è—é—Ç¬ª:

1. –£ –∫–∞–∂–¥–æ–≥–æ –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ –µ—Å—Ç—å **–æ–±–ª–∞—Å—Ç—å** (–∫—Ä—É–≥ –∏–ª–∏ **PCA-—ç–ª–ª–∏–ø—Å**) –∏ **–±–∏—Ç** —ç–º–±–µ–¥–¥–∏–Ω–≥–∞.
2. –°—á–∏—Ç–∞–µ–º –¥–æ–ª—é –∫–ª–µ—Ç–æ–∫ —Å `act=True` **–≤–Ω—É—Ç—Ä–∏ –æ–±–ª–∞—Å—Ç–∏**. –ï—Å–ª–∏ –¥–æ–ª—è ‚â• `mu` (–Ω–∞–ø—Ä. 0.20), –¥–µ—Ç–µ–∫—Ç–æ—Ä —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å—Ä–∞–±–æ—Ç–∞–≤—à–∏–º.
3. –ù–∞ –ø–∞–Ω–µ–ª–∏ **D** —Ä–∏—Å—É—é—Ç—Å—è –∫–æ–Ω—Ç—É—Ä—ã —Å—Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö –æ–±–ª–∞—Å—Ç–µ–π –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç—ã **C**.

–î–ª—è ¬´1¬ª –æ—Ö–æ—Ç–Ω–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç **–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ –≤—ã—Ç—è–Ω—É—Ç—ã–µ** —ç–ª–ª–∏–ø—Å—ã –≤ ¬´—è–¥—Ä–µ¬ª –∫–ª–∞—Å—Ç–µ—Ä–∞ –µ–¥–∏–Ω–∏—Ü.

---

## E) –≠–º–±–µ–¥–¥–∏–Ω–≥ (—à—Ç—Ä–∏—Ö–∫–æ–¥ –∏–∑ `0..E-1`)
–†–µ–∑—É–ª—å—Ç–∞—Ç `det.embed(code)` ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤ **—Å—Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤** (–∏–∑ `0..E-1`), –∫–æ—Ç–æ—Ä–æ–µ –º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞–∫ —à—Ç—Ä–∏—Ö–∫–æ–¥:

- –û–±—ã—á–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è **–Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Å—è—Ç–∫–æ–≤** –±–∏—Ç–æ–≤ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —á–∏—Å–ª–∞ –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤ –∏ –ø–æ—Ä–æ–≥–∞ `mu`).
- –ò–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç –Ω–∞–±–æ—Ä –∏–¥—ë—Ç –≤ kNN –ø–æ –ñ–∞–∫–∫–∞—Ä—É.

–î–ª—è ¬´1¬ª –≤ —ç–º–±–µ–¥–¥–∏–Ω–≥ –ø–æ–ø–∞–¥–∞—é—Ç –±–∏—Ç—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–º –∏ ¬´–∫–ª–∞—Å—Ç–µ—Ä–Ω—ã–º¬ª –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞–º –≤–æ–∫—Ä—É–≥ —Ä–µ–≥–∏–æ–Ω–∞ –µ–¥–∏–Ω–∏—Ü.

---

### –°–≤–æ–¥–∫–∞ –ø–æ—Ç–æ–∫–∞ —Å–∏–≥–Ω–∞–ª–∞
- **B:** –ø—Ä–∏–∑–Ω–∞–∫–∏ ‚Üí —á–µ—Ä–µ–∑ –∫–æ–¥–±—É–∫–∏ ‚Üí –ø–µ—Ä–≤–∏—á–Ω—ã–π —Ä–∞–∑—Ä–µ–∂—ë–Ω–Ω—ã–π –∫–æ–¥ (`0..B-1`).  
- **C:** —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –æ–±—É—á–∞—é—â–∏–º–∏ –Ω–∞ —Ä–∞—Å–∫–ª–∞–¥–∫–µ ‚Üí –ø–æ—Ä–æ–≥ –ø–æ –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—é ‚Üí –∫–∞—Ä—Ç–∞ ¬´–≥–¥–µ –ø–æ—Ö–æ–∂–µ¬ª.  
- **D:** –ø—Ä–æ–≤–µ—Ä—è–µ–º –æ–±–ª–∞—Å—Ç–∏ –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤ –Ω–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—É—é –¥–æ–ª—é —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π ‚Üí ¬´–≤—ã—Å—Ç—Ä–µ–ª–∏–≤—à–∏–µ¬ª –∫–æ–Ω—Ç—É—Ä—ã.  
- **E:** –∏–Ω–¥–µ–∫—Å—ã —Å—Ä–∞–±–æ—Ç–∞–≤—à–∏—Ö –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤ ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —ç–º–±–µ–¥–¥–∏–Ω–≥ (`0..E-1`), –∫–æ—Ç–æ—Ä—ã–π –∏–¥—ë—Ç –≤ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä (kNN –ø–æ –ñ–∞–∫–∫–∞—Ä—É).

---

## –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∞—Ç—å–µ –∏ –æ—Ç–ª–∏—á–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

---

### ‚úÖ –ß—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞—Ç—å–µ (–ø–æ –¥—É—Ö—É –∏ —Ü–µ–ª—è–º)
- **–†–∞–∑—Ä–µ–∂—ë–Ω–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –∫–æ–¥—ã** –∏ ¬´—Ü–≤–µ—Ç–æ–≤–æ–µ¬ª –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –≤ –µ–¥–∏–Ω—ã–π –ø–µ—Ä–≤–∏—á–Ω—ã–π –∫–æ–¥.
- **–î–≤–∞ –º–∞—Å—à—Ç–∞–±–∞ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏** (–¥–∞–ª—å–Ω–∏–π/–±–ª–∏–∂–Ω–∏–π –ø–æ—Ä—è–¥–æ–∫) –∏ —Ä–∞—Å–∫–ª–∞–¥–∫–∞ ¬´–ø–æ—Ö–æ–∂–∏–µ –±–ª–∏–∂–µ¬ª.
- **–≠–Ω–µ—Ä–≥–∏—è –≤–∏–¥–∞** `sim √ó dist` –∏ **–ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–≤–∞–ø—ã** –ø—Ä–∏ —Ä–∞—Å–∫–ª–∞–¥–∫–µ (DAMP-–ø–æ–¥—Ö–æ–¥).
- **–î–µ—Ç–µ–∫—Ç–æ—Ä—ã –∫–∞–∫ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏–µ –ø–æ–ª—è** (–∫—Ä—É–≥–∏/—ç–ª–ª–∏–ø—Å—ã), –∫–∞–∂–¥—ã–π –¥–∞—ë—Ç **1 –±–∏—Ç** —ç–º–±–µ–¥–¥–∏–Ω–≥–∞.
- **–ú–µ—Ç—Ä–∏–∫–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏ –¥–ª—è –±–∏—Ç–æ–≤—ã—Ö –∫–æ–¥–æ–≤** (–ñ–∞–∫–∫–∞—Ä/‚Äú–¥–∏—Å–∫—Ä–µ—Ç–Ω—ã–π –∫–æ—Å–∏–Ω—É—Å‚Äù).
- **–≠–ª–ª–∏–ø—Å—ã —á–µ—Ä–µ–∑ PCA** ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã–π —É—Å–∏–ª–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –≤—ã—Ç—è–Ω—É—Ç—ã—Ö –∫–ª–∞—Å—Ç–µ—Ä–æ–≤ (–º—ã –≤–∫–ª—é—á–∏–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

---

### ‚ö†Ô∏è –ì–¥–µ —É–ø—Ä–æ—Å—Ç–∏–ª–∏ –∏–ª–∏ –æ—Ç–æ—à–ª–∏ –æ—Ç –∫–∞–Ω–æ–Ω–∞
1. **¬´–¶–≤–µ—Ç–æ–≤–æ–µ¬ª –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ**: –≤–º–µ—Å—Ç–æ —Ñ–æ—Ä–º–∞–ª—å–Ω–æ–π –ø—Ä–æ—Ü–µ–¥—É—Ä—ã —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `f` –∏ —Å–ø–µ–∫—Ç—Ä—ã ‚Äî –ø—Ä–æ—Å—Ç–æ–π **top-K –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º**.
2. **–¶–µ–ª–∏ —Ñ–∞–∑ DAMP**: –≤ —Å—Ç–∞—Ç—å–µ –¥–∞–ª—å–Ω—è—è –∏ –±–ª–∏–∂–Ω—è—è —Ñ–∞–∑—ã –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—é—Ç **—Ä–∞–∑–Ω—ã–µ** —Ü–µ–ª–∏ (–¥–∞–ª—å–Ω—è—è ‚Äî –≥–ª–æ–±–∞–ª—å–Ω–∞—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è, –±–ª–∏–∂–Ω—è—è ‚Äî –ª–æ–∫–∞–ª—å–Ω–∞—è ¬´–ø–æ–ª–∏—Ä–æ–≤–∫–∞¬ª —Å –∏–Ω—ã–º –∑–Ω–∞–∫–æ–º/—Å–º—ã—Å–ª–æ–º). –£ –Ω–∞—Å –æ–±–µ —Ñ–∞–∑—ã —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ **–º–∏–Ω–∏–º–∏–∑–∏—Ä—É—é—Ç –æ–¥–Ω—É –∏ —Ç—É –∂–µ –ª–æ–∫–∞–ª—å–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é**.
3. **–ì–ª–æ–±–∞–ª—å–Ω–æ—Å—Ç—å –¥–∞–ª—å–Ω–µ–π —ç–Ω–µ—Ä–≥–∏–∏**: –≤ –∫–∞–Ω–æ–Ω–µ –¥–∞–ª—å–Ω—è—è —Ñ–∞–∑–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ ¬´–≥–ª–æ–±–∞–ª—å–Ω–∞—è¬ª. –£ –Ω–∞—Å ‚Äî **–ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–∞–¥–∏—É—Å** (–ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ).
4. **–ü–æ—Ä–æ–≥–æ–≤–∞—è –±–ª–∏–∑–æ—Å—Ç—å `sim_Œª`**: –≤ —Å—Ç–∞—Ç—å–µ –∫–ª—é—á–µ–≤–æ–π —ç–ª–µ–º–µ–Ω—Ç ‚Äî **–ø–æ—Ä–æ–≥–æ–≤–∞–Ω–Ω–∞—è** –±–ª–∏–∑–æ—Å—Ç—å —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º `Œª`. –£ –Ω–∞—Å ‚Äî **–∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å** –ø–æ –ø–æ–ª—é –ø–æ—Ö–æ–∂–µ—Å—Ç–µ–π (Œª –Ω–µ—Ç).
5. **–ò–µ—Ä–∞—Ä—Ö–∏—è —É—Ä–æ–≤–Ω–µ–π —É –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤**: –≤ —Å—Ç–∞—Ç—å–µ **—Ñ–∏–∫—Å–∏—Ä—É—é—Ç Œª –Ω–∞ —É—Ä–æ–≤–Ω–µ** –∏ —Å—Ç—Ä–æ—è—Ç –¥–µ—Ç–µ–∫—Ç–æ—Ä—ã **—ç—Ç–∞–ø–∞–º–∏**. –£ –Ω–∞—Å Œª –Ω–µ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –ø–æ —É—Ä–æ–≤–Ω—è–º ‚Äî —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ **–ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –ø–æ–¥ —Å–µ–º—è/–ø—Ä–∏–º–µ—Ä**.
6. **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü–∏—è ¬´–ø–∏–Ω–≤–∏–ª–æ–≤¬ª**: —Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω **DBSCAN**; —É –Ω–∞—Å ‚Äî **—Å–≤—è–∑–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** –ø–æ —Ä–µ—à—ë—Ç–∫–µ (—É–ø—Ä–æ—â–µ–Ω–∏–µ).
7. **–ü—Ä–∞–≤–∏–ª–æ –≤—Å—Ç–∞–≤–∫–∏ –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤**: –≤ —Å—Ç–∞—Ç—å–µ ‚Äî –∑–∞–ø—Ä–µ—Ç –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è —Ü–µ–Ω—Ç—Ä–æ–≤/–∑–∞–º–µ—â–µ–Ω–∏–µ –ø–æ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—É **`n/r`**. –£ –Ω–∞—Å ‚Äî **—Ç–æ–ª—å–∫–æ –º–∏–Ω–∏–º—É–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—è** –º–µ–∂–¥—É —Ü–µ–Ω—Ç—Ä–∞–º–∏ –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ ¬´—Å–∏–ª–µ¬ª.
8. **–ö—Ä–∏—Ç–µ—Ä–∏–π —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞**: —Ñ–æ—Ä–º–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É—é—Ç **–Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—É—é —ç–Ω–µ—Ä–≥–∏—é –≤–Ω—É—Ç—Ä–∏ –ø–æ–ª—è**; —É –Ω–∞—Å ‚Äî **–¥–æ–ª—è –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–ª–µ—Ç–æ–∫** (–ø–æ–∫—Ä—ã—Ç–∏–µ –ø–æ –±—É–ª–µ–≤–æ–π –∫–∞—Ä—Ç–µ).
9. **–ö–æ–¥—ã –¥–ª—è —É–≥–ª–æ–≤ (–∑–∞–º–∫–Ω—É—Ç–∞—è —Ç–æ–ø–æ–ª–æ–≥–∏—è)**: —Å—Ç–∞—Ç—å—è –∞–∫—Ü–µ–Ω—Ç–∏—Ä—É–µ—Ç ¬´–∑–∞–º—ã–∫–∞–Ω–∏–µ¬ª (—Ü–∏–ª–∏–Ω–¥—Ä/—Ç–æ—Ä, Gray). –£ –Ω–∞—Å ‚Äî **–ø—Ä–æ—Å—Ç–æ–π –±–∏–Ω–Ω–∏–Ω–≥ Sobel** –±–µ–∑ —è–≤–Ω–æ–≥–æ –∑–∞–º–∫–Ω—É—Ç–æ–≥–æ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è.
10. **–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ä–∞—Å–∫–ª–∞–¥–∫–∏**: –≤ –∫–∞–Ω–æ–Ω–µ —Å—á–∏—Ç–∞—é—Ç/–ª–æ–≥–∏—Ä—É—é—Ç **\hat{E}** –∏ **\bar{E}** (–∫–∞—Ä—Ç–∞ –∏ —Å—Ä–µ–¥–Ω—è—è —ç–Ω–µ—Ä–≥–∏—è). –£ –Ω–∞—Å —ç—Ç–æ **–Ω–µ –≤—ã–≤–æ–¥–∏—Ç—Å—è**.

---

### üõ†Ô∏è –ß—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ –∫–∞–∫ –∏–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (–≤–Ω–µ —Ç–µ–∫—Å—Ç–∞)
- –ö–∞–Ω–∞–ª **ORIENT (Sobel)** + –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∫–∞–Ω–∞–ª–æ–≤ –∏ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ —É—Ä–æ–≤–Ω–µ–π GRID.
- **–ü–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è** –¥–µ—Ç–µ–∫—Ç–æ—Ä–æ–≤ —Å ¬´—Å—Ç—Ä–∞—Ö–æ–≤–∫–æ–π¬ª top-N.
- **–≠–ª–ª–∏–ø—Å—ã –ø–æ PCA** –≤–∫–ª—é—á–µ–Ω—ã ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª –¥–ª—è –≤—ã—Ç—è–Ω—É—Ç—ã—Ö –æ–±–ª–∞—Å—Ç–µ–π.
- **–í–∑–≤–µ—à–µ–Ω–Ω—ã–π kNN –ø–æ –ñ–∞–∫–∫–∞—Ä—É** –ø–æ–≤–µ—Ä—Ö —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ (–≤ —Å—Ç–∞—Ç—å–µ —ç—Ç–æ –Ω–µ –æ—Å–Ω–æ–≤–Ω–æ–π –æ–±—ä–µ–∫—Ç).
- –£—Ç–∏–ª–∏—Ç—ã –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ (`visualize_pipeline`, PDF-—ç–∫—Å–ø–æ—Ä—Ç—ã) –∏ —Å—É–º–º–∞—Ä–Ω—ã–µ –∫–∞—Ä—Ç—ã –Ω–∞–ª–æ–∂–µ–Ω–∏–π.

